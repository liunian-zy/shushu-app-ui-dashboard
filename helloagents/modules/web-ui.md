# 模块说明: web-ui

## 1. 模块职责
- 提供 PC 端管理界面与统一布局（侧边栏 + 顶栏）
- 负责登录、身份校验与 JWT 会话状态维护
- 基于角色过滤菜单入口并限制管理员功能

## 2. 关键路由
- `/login`：登录页
- `/`：概览
- `/tasks`：任务看板
- `/versions`：版本配置（管理员）
- `/entry`：内容录入
- `/media-rules`：媒体规则（管理员）
- `/history`：操作历史
- `/users`：账号管理（管理员）

## 3. 权限与会话
- 登录使用 `POST /api/auth/login` 获取 JWT
- 启动时调用 `GET /api/auth/me` 校验身份
- Token 存储于 `localStorage`，键名 `shushu_auth_token`
- 管理员专属页面在前端进行路由守卫与入口隐藏

## 4. UI 约定
- 顶栏展示用户昵称/角色并提供退出入口
- 未登录状态跳转 `/login`
- 概览页支持按版本筛选并展示任务/媒体/同步摘要

## 5. 任务看板能力
- 版本筛选、模块/状态/指派过滤
- 管理员可新建/编辑/指派任务
- 成员可提交协作记录
- 支持查看任务操作历史

## 5.1 账号管理能力
- 管理员可创建管理员/成员账号
- 支持账号列表与登录时间查看

## 6. 版本配置能力
- 支持创建/编辑/删除景区版本草稿
- 配置 AI 模型与 Feishu 字段列表
- 版本名留空时由后端自动生成
- 支持将版本配置单独同步到线上

## 7. 内容录入能力
- 轮播图/身份/场景/配置项/偏好/打印中视频的完整录入
- 草稿阶段使用本地上传路径，任务完成后上传 OSS 并回写 `path`
- 支持语音文案 TTS 生成并回写本地音频路径
- 语音生成支持一次生成多候选并试听选择
- 支持本地草稿保存/恢复与提交差异对比、二次确认
- 轮播图支持批量上传、批量校验与文件名默认标题
- 内容录入支持按模块选择同步到线上
- 场景录入不展示水印/OSS 样式字段

## 8. 媒体规则与模板
- 媒体规则支持新建/编辑/停用并用于校验与压缩
- 媒体压缩工具支持上传素材进行校验与转码
- 媒体压缩工具内置常用预设（JPG 有损、视频/音频无损）
- 身份模板支持全局管理与录入页一键套用
- TTS 预设支持全局管理并在语音生成时下拉选择与微调

## 9. 历史与审计
- 操作历史页展示提交记录、字段级变更与媒体版本
- 审计日志支持按版本/模块筛选查询
