# 项目上下文

## 1. 基本信息

```yaml
名称: 数枢-APP景区UI方案系统
描述: PC端景区UI方案协作与媒体管控系统
类型: Web应用
状态: 开发中
```

## 2. 技术上下文

```yaml
语言: Go + TypeScript
框架: Gin + React + Ant Design
包管理器: Go Modules + npm
构建工具: Vite
```

### 主要依赖
| 依赖 | 版本 | 用途 |
|------|------|------|
| gin | 1.9.1 | Web框架 |
| go-sql-driver/mysql | 1.7.1 | MySQL驱动 |
| redis/go-redis | 9.5.1 | Redis客户端 |
| aliyun-oss-go-sdk | 3.0.2 | OSS访问 |
| antd | 5.15.3 | UI组件 |

## 3. 项目概述

### 核心功能
- 景区版本与UI方案录入
- 任务分工与协作提交
- 媒体规则配置与压缩处理
- TTS 语音文案生成
- 同步到线上数据表

### 项目边界
```yaml
范围内:
  - 方案数据录入、协作与审计
  - OSS 直传与媒体处理
  - 同步到线上表
范围外:
  - 线上 App 运行时服务逻辑
```

## 4. 开发约定

### 代码规范
```yaml
命名风格: Go/TS 使用驼峰
文件命名: kebab-case 或 snake_case
目录组织: web/server/tests 分层
```

### 错误处理
```yaml
错误码格式: HTTP状态码 + error字段
日志级别: Gin默认日志
```

### 测试要求
```yaml
测试框架: Go testing
覆盖率要求: 未定义
测试文件位置: /tests
```

### Git规范
```yaml
分支策略: 未定义
提交格式: 未定义
```

## 5. 当前约束（源自历史决策）

> 这些是当前生效的技术约束，详细决策过程见对应方案包

| 约束 | 原因 | 决策来源 |
|------|------|---------|
| 媒体处理在后端统一完成 | 一致性与可追溯 | [202601261831_app-ui-plan-system#D001](archive/2026-01/202601261831_app-ui-plan-system/proposal.md#D001) |
| 历史记录采用字段级+文件版本 | 满足审计需求 | [202601261831_app-ui-plan-system#D002](archive/2026-01/202601261831_app-ui-plan-system/proposal.md#D002) |
| 先写临时表再同步线上表 | 降低上线风险 | [202601261831_app-ui-plan-system#D003](archive/2026-01/202601261831_app-ui-plan-system/proposal.md#D003) |

## 6. 已知技术债务（可选）

> 主动识别的需要未来处理的技术问题

| 债务描述 | 优先级 | 来源 | 建议处理时机 |
|---------|--------|------|-------------|
| {描述} | P0/P1/P2 | {来源方案包或识别时间} | {建议} |
